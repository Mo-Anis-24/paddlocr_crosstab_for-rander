{
	"info": {
		"_postman_id": "invoice-ocr-api-collection",
		"name": "Invoice OCR API",
		"description": "Complete collection for Invoice OCR REST API endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"version": {
			"major": 1,
			"minor": 0,
			"patch": 0
		}
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Get Access Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"api_key\": \"your-api-secret-key-here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/token",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "token"]
						},
						"description": "Authenticate and get JWT access token"
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"api_key\": \"your-api-secret-key-here\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/token",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "auth", "token"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"data\": {\n    \"access_token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...\",\n    \"refresh_token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...\",\n    \"token_type\": \"bearer\"\n  },\n  \"message\": \"Authentication successful\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/health",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "health"]
						},
						"description": "Check API health status"
					},
					"response": [
						{
							"name": "Healthy Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/v1/health",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "health"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"data\": {\n    \"status\": \"healthy\",\n    \"version\": \"1.0.0\",\n    \"uptime\": 3600.5,\n    \"services\": {\n      \"redis\": \"healthy\",\n      \"azure_openai\": \"configured\"\n    }\n  },\n  \"message\": \"Service is healthy\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "OCR Processing",
			"item": [
				{
					"name": "Process OCR",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "sample-invoice.pdf"
								},
								{
									"key": "language",
									"value": "en",
									"type": "text"
								},
								{
									"key": "use_gpu",
									"value": "false",
									"type": "text"
								},
								{
									"key": "return_annotated_images",
									"value": "false",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/v1/ocr/process",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "ocr", "process"]
						},
						"description": "Upload file for OCR processing"
					},
					"response": [
						{
							"name": "Processing Started",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "file",
											"type": "file",
											"src": "sample-invoice.pdf"
										}
									]
								},
								"url": {
									"raw": "{{base_url}}/api/v1/ocr/process",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "ocr", "process"]
								}
							},
							"status": "Accepted",
							"code": 202,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"data\": {\n    \"task_id\": \"abc123def456\",\n    \"status\": \"processing\",\n    \"message\": \"OCR processing started\"\n  },\n  \"message\": \"OCR processing started\"\n}"
						}
					]
				},
				{
					"name": "Get OCR Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ocr/status/{{task_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "ocr", "status", "{{task_id}}"]
						},
						"description": "Check OCR processing status"
					},
					"response": [
						{
							"name": "Status Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ocr/status/{{task_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "ocr", "status", "{{task_id}}"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"data\": {\n    \"task_id\": \"abc123def456\",\n    \"status\": \"completed\",\n    \"progress\": 100,\n    \"created_at\": \"2024-01-15T10:30:00Z\"\n  }\n}"
						}
					]
				},
				{
					"name": "Get OCR Results",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/ocr/result/{{task_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "ocr", "result", "{{task_id}}"]
						},
						"description": "Get OCR processing results"
					},
					"response": [
						{
							"name": "Results Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/ocr/result/{{task_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "ocr", "result", "{{task_id}}"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"data\": {\n    \"task_id\": \"abc123def456\",\n    \"status\": \"completed\",\n    \"results\": {\n      \"detected_texts\": [\n        \"Invoice #12345\\nDate: 2024-01-15\\nVendor: ABC Company\\nTotal: $1,234.56\"\n      ],\n      \"all_text\": \"Invoice #12345\\nDate: 2024-01-15\\nVendor: ABC Company\\nTotal: $1,234.56\",\n      \"processing_time\": 15.5,\n      \"pages_processed\": 1\n    }\n  }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Invoice Extraction",
			"item": [
				{
					"name": "Extract Invoice Data",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"task_id\": \"{{task_id}}\",\n  \"page_number\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/invoice/extract",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "invoice", "extract"]
						},
						"description": "Extract structured invoice data from OCR results"
					},
					"response": [
						{
							"name": "Extraction Success",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"task_id\": \"{{task_id}}\",\n  \"page_number\": 1\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/invoice/extract",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "invoice", "extract"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"data\": {\n    \"task_id\": \"abc123def456\",\n    \"invoice_data\": [\n      {\n        \"invoice_number\": \"12345\",\n        \"invoice_date\": \"2024-01-15\",\n        \"vendor_name\": \"ABC Company\",\n        \"customer_name\": \"XYZ Corp\",\n        \"total_amount\": \"$1,234.56\",\n        \"tax_amount\": \"$123.46\",\n        \"page_number\": 1\n      }\n    ],\n    \"total_pages\": 1,\n    \"extraction_time\": 2.5\n  },\n  \"message\": \"Invoice data extracted successfully\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Task Management",
			"item": [
				{
					"name": "List Tasks",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/tasks?page=1&per_page=20&status=completed",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tasks"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "per_page",
									"value": "20"
								},
								{
									"key": "status",
									"value": "completed"
								}
							]
						},
						"description": "List user's tasks with pagination"
					},
					"response": [
						{
							"name": "Tasks List",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/tasks?page=1&per_page=20",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "tasks"],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "per_page",
											"value": "20"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"data\": [\n    {\n      \"task_id\": \"abc123def456\",\n      \"status\": \"completed\",\n      \"filename\": \"invoice.pdf\",\n      \"created_at\": \"2024-01-15T10:30:00Z\",\n      \"language\": \"en\"\n    }\n  ],\n  \"pagination\": {\n    \"page\": 1,\n    \"per_page\": 20,\n    \"total\": 1,\n    \"pages\": 1,\n    \"has_next\": false,\n    \"has_prev\": false\n  }\n}"
						}
					]
				},
				{
					"name": "Delete Task",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/tasks/{{task_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "tasks", "{{task_id}}"]
						},
						"description": "Delete a task and its associated files"
					},
					"response": [
						{
							"name": "Delete Success",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/tasks/{{task_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "tasks", "{{task_id}}"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Task deleted successfully\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "File Management",
			"item": [
				{
					"name": "Download File",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/files/{{task_id}}/download/{{filename}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "files", "{{task_id}}", "download", "{{filename}}"]
						},
						"description": "Download processed file"
					},
					"response": [
						{
							"name": "File Download",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/files/{{task_id}}/download/{{filename}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "files", "{{task_id}}", "download", "{{filename}}"]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/octet-stream"
								},
								{
									"key": "Content-Disposition",
									"value": "attachment; filename=processed_file.txt"
								}
							],
							"cookie": [],
							"body": "File content here..."
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:5000",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "task_id",
			"value": "",
			"type": "string"
		}
	]
}
